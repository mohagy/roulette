/**
 * Nuclear Override for Cancel Slip Edge Toggle Role-Based Visibility
 * Maximum specificity CSS to ensure role-based hiding works regardless of any other CSS
 */

/* NUCLEAR OVERRIDE - Hide cancel slip edge toggle for regular users with maximum specificity */
html body.user-regular div.cancel-slip-edge-toggle-control,
html body.user-regular div#cancel-slip-edge-toggle,
html body.user-regular .cancel-slip-edge-toggle-control,
html body.user-regular #cancel-slip-edge-toggle,
body.user-regular div.cancel-slip-edge-toggle-control,
body.user-regular div#cancel-slip-edge-toggle,
body.user-regular .cancel-slip-edge-toggle-control,
body.user-regular #cancel-slip-edge-toggle {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
  position: absolute !important;
  left: -9999px !important;
  top: -9999px !important;
  right: auto !important;
  bottom: auto !important;
  width: 0 !important;
  height: 0 !important;
  min-width: 0 !important;
  min-height: 0 !important;
  max-width: 0 !important;
  max-height: 0 !important;
  overflow: hidden !important;
  z-index: -9999 !important;
  transform: scale(0) !important;
  margin: 0 !important;
  padding: 0 !important;
  border: none !important;
  background: transparent !important;
  color: transparent !important;
  font-size: 0 !important;
  line-height: 0 !important;
  text-indent: -9999px !important;
  clip: rect(0, 0, 0, 0) !important;
  clip-path: inset(100%) !important;
}

/* Hide all child elements of the cancel slip edge toggle for regular users */
html body.user-regular .cancel-slip-edge-toggle-control *,
html body.user-regular #cancel-slip-edge-toggle *,
body.user-regular .cancel-slip-edge-toggle-control *,
body.user-regular #cancel-slip-edge-toggle * {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
  position: absolute !important;
  left: -9999px !important;
  top: -9999px !important;
  width: 0 !important;
  height: 0 !important;
  overflow: hidden !important;
  z-index: -9999 !important;
  transform: scale(0) !important;
}

/* NUCLEAR OVERRIDE - Show cancel slip edge toggle for admin users with maximum specificity */
html body.user-admin div.cancel-slip-edge-toggle-control,
html body.user-admin div#cancel-slip-edge-toggle,
html body.user-admin .cancel-slip-edge-toggle-control,
html body.user-admin #cancel-slip-edge-toggle,
body.user-admin div.cancel-slip-edge-toggle-control,
body.user-admin div#cancel-slip-edge-toggle,
body.user-admin .cancel-slip-edge-toggle-control,
body.user-admin #cancel-slip-edge-toggle {
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
  pointer-events: auto !important;
  position: fixed !important;
  right: 0 !important;
  top: 75% !important;
  left: auto !important;
  bottom: auto !important;
  width: auto !important;
  height: auto !important;
  min-width: auto !important;
  min-height: auto !important;
  max-width: none !important;
  max-height: none !important;
  overflow: visible !important;
  transform: translateY(-50%) !important;
  z-index: 10004 !important;
  margin: 0 !important;
  padding: 0 !important;
  border: none !important;
  background: transparent !important;
  color: inherit !important;
  font-size: inherit !important;
  line-height: inherit !important;
  text-indent: 0 !important;
  clip: auto !important;
  clip-path: none !important;
}

/* Show all child elements of the cancel slip edge toggle for admin users */
html body.user-admin .cancel-slip-edge-toggle-control *,
html body.user-admin #cancel-slip-edge-toggle *,
body.user-admin .cancel-slip-edge-toggle-control *,
body.user-admin #cancel-slip-edge-toggle * {
  display: inherit !important;
  visibility: inherit !important;
  opacity: inherit !important;
  pointer-events: inherit !important;
  position: relative !important;
  left: auto !important;
  top: auto !important;
  right: auto !important;
  bottom: auto !important;
  width: auto !important;
  height: auto !important;
  overflow: visible !important;
  z-index: auto !important;
  transform: none !important;
}

/* NUCLEAR OVERRIDE - Hide for unauthenticated users */
html body.user-unauthenticated div.cancel-slip-edge-toggle-control,
html body.user-unauthenticated div#cancel-slip-edge-toggle,
html body.user-unauthenticated .cancel-slip-edge-toggle-control,
html body.user-unauthenticated #cancel-slip-edge-toggle,
body.user-unauthenticated div.cancel-slip-edge-toggle-control,
body.user-unauthenticated div#cancel-slip-edge-toggle,
body.user-unauthenticated .cancel-slip-edge-toggle-control,
body.user-unauthenticated #cancel-slip-edge-toggle {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
  position: absolute !important;
  left: -9999px !important;
  top: -9999px !important;
  width: 0 !important;
  height: 0 !important;
  overflow: hidden !important;
  z-index: -9999 !important;
  transform: scale(0) !important;
}

/* NUCLEAR OVERRIDE - Hide by default for all users until role is determined */
html body:not(.user-admin):not(.user-regular):not(.user-unauthenticated) div.cancel-slip-edge-toggle-control,
html body:not(.user-admin):not(.user-regular):not(.user-unauthenticated) div#cancel-slip-edge-toggle,
html body:not(.user-admin):not(.user-regular):not(.user-unauthenticated) .cancel-slip-edge-toggle-control,
html body:not(.user-admin):not(.user-regular):not(.user-unauthenticated) #cancel-slip-edge-toggle,
body:not(.user-admin):not(.user-regular):not(.user-unauthenticated) div.cancel-slip-edge-toggle-control,
body:not(.user-admin):not(.user-regular):not(.user-unauthenticated) div#cancel-slip-edge-toggle,
body:not(.user-admin):not(.user-regular):not(.user-unauthenticated) .cancel-slip-edge-toggle-control,
body:not(.user-admin):not(.user-regular):not(.user-unauthenticated) #cancel-slip-edge-toggle {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
  position: absolute !important;
  left: -9999px !important;
  top: -9999px !important;
  width: 0 !important;
  height: 0 !important;
  overflow: hidden !important;
  z-index: -9999 !important;
  transform: scale(0) !important;
}

/* Responsive design - maintain role-based visibility on all screen sizes */
@media (max-width: 768px) {
  /* Regular users: Keep hidden on mobile */
  html body.user-regular .cancel-slip-edge-toggle-control,
  html body.user-regular #cancel-slip-edge-toggle,
  body.user-regular .cancel-slip-edge-toggle-control,
  body.user-regular #cancel-slip-edge-toggle {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
  }
  
  /* Admin users: Show on mobile */
  html body.user-admin .cancel-slip-edge-toggle-control,
  html body.user-admin #cancel-slip-edge-toggle,
  body.user-admin .cancel-slip-edge-toggle-control,
  body.user-admin #cancel-slip-edge-toggle {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
    position: fixed !important;
    right: 0 !important;
    top: 75% !important;
    transform: translateY(-50%) !important;
    z-index: 10004 !important;
  }
}

@media (max-width: 480px) {
  /* Regular users: Keep hidden on small screens */
  html body.user-regular .cancel-slip-edge-toggle-control,
  html body.user-regular #cancel-slip-edge-toggle,
  body.user-regular .cancel-slip-edge-toggle-control,
  body.user-regular #cancel-slip-edge-toggle {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
  }
  
  /* Admin users: Show on small screens */
  html body.user-admin .cancel-slip-edge-toggle-control,
  html body.user-admin #cancel-slip-edge-toggle,
  body.user-admin .cancel-slip-edge-toggle-control,
  body.user-admin #cancel-slip-edge-toggle {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
    position: fixed !important;
    right: 0 !important;
    top: 75% !important;
    transform: translateY(-50%) !important;
    z-index: 10004 !important;
  }
}

/* Accessibility - ensure screen readers also respect role-based visibility */
html body.user-regular .cancel-slip-edge-toggle-control,
html body.user-regular #cancel-slip-edge-toggle,
body.user-regular .cancel-slip-edge-toggle-control,
body.user-regular #cancel-slip-edge-toggle {
  speak: none !important;
  -webkit-user-select: none !important;
  -moz-user-select: none !important;
  -ms-user-select: none !important;
  user-select: none !important;
  -webkit-touch-callout: none !important;
  -webkit-tap-highlight-color: transparent !important;
}

/* Ensure no pseudo-elements are visible for regular users */
html body.user-regular .cancel-slip-edge-toggle-control::before,
html body.user-regular .cancel-slip-edge-toggle-control::after,
html body.user-regular #cancel-slip-edge-toggle::before,
html body.user-regular #cancel-slip-edge-toggle::after,
body.user-regular .cancel-slip-edge-toggle-control::before,
body.user-regular .cancel-slip-edge-toggle-control::after,
body.user-regular #cancel-slip-edge-toggle::before,
body.user-regular #cancel-slip-edge-toggle::after {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  content: none !important;
}
